var C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var s={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var y;function b(){if(y)return s;y=1;var o=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,l=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,u=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,c=/\\([\u000b\u0020-\u00ff])/g,w=/([\\"])/g,d=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;s.format=E,s.parse=g;function E(r){if(!r||typeof r!="object")throw new TypeError("argument obj is required");var e=r.parameters,t=r.type;if(!t||!d.test(t))throw new TypeError("invalid type");var f=t;if(e&&typeof e=="object")for(var i,p=Object.keys(e).sort(),n=0;n<p.length;n++){if(i=p[n],!u.test(i))throw new TypeError("invalid parameter name");f+="; "+i+"="+h(e[i])}return f}function g(r){if(!r)throw new TypeError("argument string is required");var e=typeof r=="object"?v(r):r;if(typeof e!="string")throw new TypeError("argument string is required to be a string");var t=e.indexOf(";"),f=t!==-1?e.slice(0,t).trim():e.trim();if(!d.test(f))throw new TypeError("invalid media type");var i=new T(f.toLowerCase());if(t!==-1){var p,n,a;for(o.lastIndex=t;n=o.exec(e);){if(n.index!==t)throw new TypeError("invalid parameter format");t+=n[0].length,p=n[1].toLowerCase(),a=n[2],a.charCodeAt(0)===34&&(a=a.slice(1,-1),a.indexOf("\\")!==-1&&(a=a.replace(c,"$1"))),i.parameters[p]=a}if(t!==e.length)throw new TypeError("invalid parameter format")}return i}function v(r){var e;if(typeof r.getHeader=="function"?e=r.getHeader("content-type"):typeof r.headers=="object"&&(e=r.headers&&r.headers["content-type"]),typeof e!="string")throw new TypeError("content-type header is missing from object");return e}function h(r){var e=String(r);if(u.test(e))return e;if(e.length>0&&!l.test(e))throw new TypeError("invalid parameter value");return'"'+e.replace(w,"\\$1")+'"'}function T(r){this.parameters=Object.create(null),this.type=r}return s}var _=b();const $=m(_);export{$ as C,C as c,m as g};
